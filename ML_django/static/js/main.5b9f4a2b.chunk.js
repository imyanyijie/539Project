(this["webpackJsonpreact-paintapp"]=this["webpackJsonpreact-paintapp"]||[]).push([[0],{15:function(t,e,n){t.exports=n(25)},20:function(t,e,n){},21:function(t,e,n){},25:function(t,e,n){"use strict";n.r(e);var o=n(0),i=n.n(o),a=n(11),s=n.n(a),r=(n(20),n(2)),c=n(3),u=n(5),f=n(4),l=n(6),h=(n(21),n(7)),p=n.n(h),v=n(12),b=n(13),m=n(1),d=n(14);function O(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function y(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?O(Object(n),!0).forEach((function(e){Object(b.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var j=function(t){function e(t){var n;return Object(r.a)(this,e),(n=Object(u.a)(this,Object(f.a)(e).call(this,t))).isPainting=!1,n.userStrokeStyle="#EE92C2",n.guestStrokeStyle="#F0C987",n.line=[],n.userId=Object(d.v4)(),n.prevPos={offsetX:0,offsetY:0},n.onMouseDown=n.onMouseDown.bind(Object(m.a)(n)),n.onMouseMove=n.onMouseMove.bind(Object(m.a)(n)),n.endPaintEvent=n.endPaintEvent.bind(Object(m.a)(n)),n.onSubmit=n.onSubmit.bind(Object(m.a)(n)),n}return Object(l.a)(e,t),Object(c.a)(e,[{key:"onMouseDown",value:function(t){var e=t.nativeEvent,n=e.offsetX,o=e.offsetY;this.isPainting=!0,this.prevPos={offsetX:n,offsetY:o}}},{key:"onMouseMove",value:function(t){var e=t.nativeEvent;if(this.isPainting){var n={offsetX:e.offsetX,offsetY:e.offsetY};this.position={start:y({},this.prevPos),stop:y({},n)},this.line=this.line.concat(this.position),this.paint(this.prevPos,n,this.userStrokeStyle)}}},{key:"endPaintEvent",value:function(){this.isPainting&&(this.isPainting=!1)}},{key:"paint",value:function(t,e,n){var o=e.offsetX,i=e.offsetY,a=t.offsetX,s=t.offsetY;this.ctx.beginPath(),this.ctx.strokeStyle=n,this.ctx.moveTo(a,s),this.ctx.lineTo(o,i),this.ctx.stroke(),this.prevPos={offsetX:o,offsetY:i}}},{key:"onSubmit",value:function(){this.canvas;this.sendPaintData()}},{key:"sendPaintData",value:function(){var t=Object(v.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.canvas.toBlob((function(t){var e=new FormData;e.append("my-file",t,"filename.png"),fetch("https://spartan-card-260220.appspot.com/api/draw_app/imagestore/create_image/",{method:"POST",headers:{Accept:"application/json"},body:e}).then((function(t){return t.ok?(console.log(t),t.json()):t.text().then((function(t){return Promise.reject(new Error(t))}))}))})),this.line=[];case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.canvas.width=256,this.canvas.height=256,this.ctx=this.canvas.getContext("2d"),this.ctx.lineJoin="round",this.ctx.lineCap="round",this.ctx.lineWidth=3}},{key:"render",value:function(){var t=this;return i.a.createElement("div",{style:{flexDirection:"column"}},i.a.createElement("canvas",{ref:function(e){return t.canvas=e},style:{background:"black"},onMouseDown:this.onMouseDown,onMouseLeave:this.endPaintEvent,onMouseUp:this.endPaintEvent,onMouseMove:this.onMouseMove}),i.a.createElement("button",{onClick:this.onSubmit},"Submit"))}}]),e}(o.Component),g=function(t){function e(){return Object(r.a)(this,e),Object(u.a)(this,Object(f.a)(e).apply(this,arguments))}return Object(l.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){return i.a.createElement(o.Fragment,null,i.a.createElement("h3",{style:{textAlign:"center"}},"Draw Something Below!"),i.a.createElement("div",{className:"main"},i.a.createElement("div",{className:"color-guide"}),i.a.createElement(j,null)))}}]),e}(o.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(i.a.createElement(g,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}},[[15,1,2]]]);
//# sourceMappingURL=main.5b9f4a2b.chunk.js.map